"use strict";function $(a){return document.getElementById(a)}function validateName(){globals.validatePattern(globals.NAME_PATTERN,$("userName"))}function validateMail(){globals.validatePattern(globals.MAIL_PATTERN,$("userMail"))}function validatePass(){globals.validatePattern(globals.PASS_PATTERN,$("pass"))}function validateURL(){globals.validatePattern(globals.URL_PATTERN,$("url"))}function confirmPass(){""===$("passConfirmation").value||""===$("pass").value?$("passConfirmation").className="required reset":$("pass").value!==$("passConfirmation").value?$("passConfirmation").className="invalid required ":$("passConfirmation").className="valid required "}function checkCountry(){var a=document.createElement("input"),b=document.createElement("li");a.type="text",a.id="postalCode",a.name="postalCode",b.appendChild(document.createTextNode("Código Postal")),"es"===$("country").value?($("titlesForm").appendChild(b),$("inputsForm").appendChild(a),$("postalCode").addEventListener("keyup",validatePostalCode,!1)):void 0!==$("postalCode")&&($("inputsForm").removeChild($("postalCode")),$("titlesForm").removeChild($("titlesForm").lastChild))}function getCheckState(){$("siteConditioglobals").unchecked?$("siteConditioglobals").className="invalid":$("siteConditioglobals").className="valid"}function validatePostalCode(){var a=new RegExp("^52[0-9]{3}$");validatePattern(a,$("postalCode"))}function appendSelectCountry(){globals.COUNTRIES.forEach(function(a){var b=document.createElement("option");b.innerHTML=a,b.value=a.substring(0,2).toLowerCase(),$("country").appendChild(b)})}function checkEnabled(){$("checkbox").checked?$("checkbox").className="valid":$("checkbox").className="invalid"}function addEvents(){appendSelectCountry(),$("userName").addEventListener("keyup",validateName,!1),$("userMail").addEventListener("keyup",validateMail,!1),$("country").addEventListener("change",checkCountry,!1),$("pass").addEventListener("keyup",validatePass,!1),$("url").addEventListener("keyup",validateURL,!1),$("passConfirmation").addEventListener("keyup",confirmPass,!1),$("send").addEventListener("click",globals.validate,!1)}var globals=function(a){return a.NAME_PATTERN=/^[a-zñ]+(?:\s[a-zñ]+)+$/i,a.MAIL_PATTERN=/^[\w.]+@[\w.]+\.[\w]{2,6}$/i,a.PASS_PATTERN=/^.*(?=.{6,})(?!.*\s)(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\!\@\#\$\%\^\&\*\(\)\-\=\¡\£\_\+\`\~\.\,\<\>\/\?\;\:\'\"\\\|\[\]\{\}]).*$/,a.URL_PATTERN=/^(http:\/\/|https:\/\/|www.|ftp:\/\/).+[a-z]{2,4}$/i,a.COUNTRIES=["Alemania","Bélgica","Dinamarca","España","Francia","Grecia","Holanda","Italia","Suecia","Reino Unido"],a.INPUTS=["userName"],a.ERROR="Rellene correctamente los campos",a.validatePattern=function(a,b){0===b.value.length?globals.requiredClass(b,"reset"):a.test(b.value)?globals.requiredClass(b,"valid"):globals.requiredClass(b,"invalid")},a.requiredClass=function(a,b){a.className.match("(\\s|^)required(\\s|$)")?a.className="required "+b:a.className=b},a.validate=function(){if(globals.INPUTS.every(function(a){$(a).className.match("(\\s|^)valid(\\s|$)")})&&$("checkbox").checked)document.forms[1].submit();else{$("error")&&$("registro").removeChild($("error"));var a=document.createElement("p");a.id="error",a.className="modalWindow",a.innerHTML=globals.ERROR,$("registro").appendChild(a)}},a}({});window.onload=addEvents;